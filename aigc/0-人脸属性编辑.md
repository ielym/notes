# 1 基于分类决策边界的方法

## 方法：

在获得 diffusion-autoencoder，实现基于隐编码+逆向加噪的两个隐变量解码原图的基础上，训练一个基于512-d的隐编码进行属性分类的网络。推理时基于分类网络的决策边界（二分类），使 512-d 的隐编码沿着决策边界 w 的法向量方向移动，实现属性编辑的效果。

## 缺点：

实验发现，该方法的512-d隐编码容易欺骗分类器，容易给图像添加不明显的扰动而实现从一个属性到另一个属性，而不是真正的通过编辑面部表情实现，实验如下：

原始图像 “smile” 的分类得分是 0.4783，把 512-d 的隐编码验证 w 的法向量法相进行移动，分类器 "smile" 的得分提高到 0.9975

![image-20230812234009337](imgs/0-%E4%BA%BA%E8%84%B8%E5%B1%9E%E6%80%A7%E7%BC%96%E8%BE%91/image-20230812234009337.png)

然而，经过上述过程，虽然分类器的得分确实提高了，但并没有修改 "smile" 的属性，而是通过给图像添加了看不见的高频噪声来实现的，如下图所示（第一张是原图，第二张是编辑过的图像）：

![0_resize](imgs/0-%E4%BA%BA%E8%84%B8%E5%B1%9E%E6%80%A7%E7%BC%96%E8%BE%91/0_resize.png)

![0](imgs/0-%E4%BA%BA%E8%84%B8%E5%B1%9E%E6%80%A7%E7%BC%96%E8%BE%91/0.png)